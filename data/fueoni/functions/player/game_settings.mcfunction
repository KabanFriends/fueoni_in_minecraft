#Function file for "FUEONI in Minecraft"
#Made by KabanFriends

scoreboard players set @s foSettingsTime 600
scoreboard players set @s foSettingsTrigger 0
scoreboard players enable @s foSettingsTrigger

tellraw @s [{"text":""},{"translate":"増え鬼%1$s","color":"yellow","bold":true,"with":[{"text":" » ","color":"gray","bold":false}]},{"translate":"チャット欄のテキストをクリックして、設定を変更してください。","color":"aqua"}]

tellraw @s [{"text":""},{"translate":"逃走者アイテム設定","hoverEvent":{"action":"show_text","value":{"translate":"マップ上にランダムに出現する、\n逃走者が使用できるアイテムの設定です。"}}}]
execute if score item_eye foGameOption matches 0 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"透視の目","hoverEvent":{"action":"show_text","value":{"translate":"使用すると10秒間、鬼の位置が\n光って表示されるアイテムです。"}}},{"text":": "},{"translate":"あり","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 1"}},{"text":" "},{"translate":"なし","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}}]
execute if score item_eye foGameOption matches 1 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"透視の目","hoverEvent":{"action":"show_text","value":{"translate":"使用すると10秒間、鬼の位置が\n光って表示されるアイテムです。"}}},{"text":": "},{"translate":"あり","color":"green","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"translate":"なし","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 2"}}]
execute if score item_speed foGameOption matches 0 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"スピードポーション","hoverEvent":{"action":"show_text","value":{"translate":"使用すると30秒間、プレイヤーの\n移動速度が上昇するアイテムです。"}}},{"text":": "},{"translate":"あり","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 3"}},{"text":" "},{"translate":"なし","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}}]
execute if score item_speed foGameOption matches 1 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"スピードポーション","hoverEvent":{"action":"show_text","value":{"translate":"使用すると30秒間、プレイヤーの\n移動速度が上昇するアイテムです。"}}},{"text":": "},{"translate":"あり","color":"green","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"translate":"なし","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 4"}}]
execute if score item_invis foGameOption matches 0 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"透明化ポーション","hoverEvent":{"action":"show_text","value":{"translate":"使用すると20秒間、プレイヤーが\n透明になるアイテムです。"}}},{"text":": "},{"translate":"あり","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 5"}},{"text":" "},{"translate":"なし","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}}]
execute if score item_invis foGameOption matches 1 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"透明化ポーション","hoverEvent":{"action":"show_text","value":{"translate":"使用すると20秒間、プレイヤーが\n透明になるアイテムです。"}}},{"text":": "},{"translate":"あり","color":"green","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"translate":"なし","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 6"}}]
execute if score item_arrow foGameOption matches 0 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"鬼退治の矢","hoverEvent":{"action":"show_text","value":{"translate":"鬼を撃つと、その鬼は反対方向を向き、\n数秒間視界が悪くなる矢のアイテムです。"}}},{"text":": "},{"translate":"あり","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 7"}},{"text":" "},{"translate":"なし","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}}]
execute if score item_arrow foGameOption matches 1 run tellraw @s [{"text":""},{"text":"- ","color":"gray"},{"translate":"鬼退治の矢","hoverEvent":{"action":"show_text","value":{"translate":"鬼を撃つと、その鬼は反対方向を向き、\n数秒間視界が悪くなる矢のアイテムです。"}}},{"text":": "},{"translate":"あり","color":"green","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"translate":"なし","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 8"}}]

scoreboard players set num_60 foGameData 60
scoreboard players operation settings_sec foGameData = game_seconds foGameOption
scoreboard players operation settings_min foGameData = game_seconds foGameOption
scoreboard players operation settings_sec foGameData %= num_60 foGameData
scoreboard players operation settings_min foGameData /= num_60 foGameData

tellraw @s [{"text":""}]
execute if score tp_lobby foGameOption matches 0 run tellraw @s [{"text":""},{"translate":"終了後にロビーに移動","hoverEvent":{"action":"show_text","value":{"translate":"ゲーム終了後に、設定したロビー地点に\n全員をテレポートさせるかどうかの設定です。"}}},{"text":": "},{"translate":"する","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 17"}},{"text":" "},{"translate":"しない","color":"red","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}}]
execute if score tp_lobby foGameOption matches 1 run tellraw @s [{"text":""},{"translate":"終了後にロビーに移動","hoverEvent":{"action":"show_text","value":{"translate":"ゲーム終了後に、設定したロビー地点に\n全員をテレポートさせるかどうかの設定です。"}}},{"text":": "},{"translate":"する","color":"green","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"translate":"しない","color":"gray","bold":true,"hoverEvent":{"action":"show_text","value":{"translate":"クリックで変更"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 18"}}]
execute if score oni_count foGameOption matches ..1 run tellraw @s [{"text":""},{"translate":"鬼の抽選人数","hoverEvent":{"action":"show_text","value":{"translate":"ゲーム開始時に抽選される鬼の人数の設定です。"}}},{"text":": "},{"text":"⏴","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"鬼の人数は最低1人です"}}},{"text":" "},{"translate":"%1$s人","color":"yellow","with":[{"score":{"name":"oni_count","objective":"foGameOption"}}],"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1人増やす"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 10"}}]
execute if score oni_count foGameOption matches 2.. run tellraw @s [{"text":""},{"translate":"鬼の抽選人数","hoverEvent":{"action":"show_text","value":{"translate":"ゲーム開始時に抽選される鬼の人数の設定です。"}}},{"text":": "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1人減らす"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 9"}},{"text":" "},{"translate":"%1$s人","color":"yellow","with":[{"score":{"name":"oni_count","objective":"foGameOption"}}],"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1人増やす"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 10"}}]
execute if score oni_release_seconds foGameOption matches ..1 run tellraw @s [{"text":""},{"translate":"鬼解放までの時間","hoverEvent":{"action":"show_text","value":{"translate":"最初の鬼が解放されるまでの秒数の設定です。"}}},{"text":": "},{"text":"⏴","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"解放までの秒数は最低1秒です"}}},{"text":" "},{"translate":"%1$s秒","color":"yellow","with":[{"score":{"name":"oni_release_seconds","objective":"foGameOption"}}],"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 16"}}]
execute if score oni_release_seconds foGameOption matches 2.. run tellraw @s [{"text":""},{"translate":"鬼解放までの時間","hoverEvent":{"action":"show_text","value":{"translate":"最初の鬼が解放されるまでの秒数の設定です。"}}},{"text":": "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1秒短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 15"}},{"text":" "},{"translate":"%1$s秒","color":"yellow","with":[{"score":{"name":"oni_release_seconds","objective":"foGameOption"}}],"hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 16"}}]
execute if score game_seconds foGameOption matches ..10 if score settings_sec foGameData matches ..9 run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"text":"⏴","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":0","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
execute if score game_seconds foGameOption matches ..10 if score settings_sec foGameData matches 10.. run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"text":"⏴","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
execute if score game_seconds foGameOption matches 11..69 if score settings_sec foGameData matches ..9 run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 12"}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":0","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
execute if score game_seconds foGameOption matches 11..69 if score settings_sec foGameData matches 10.. run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"gray","hoverEvent":{"action":"show_text","value":{"translate":"これ以上短縮できません"}}},{"text":" "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 12"}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
execute if score game_seconds foGameOption matches 70.. if score settings_sec foGameData matches ..9 run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"dark_red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 11"}},{"text":" "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 12"}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":0","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
execute if score game_seconds foGameOption matches 70.. if score settings_sec foGameData matches 10.. run tellraw @s [{"text":""},{"translate":"制限時間","hoverEvent":{"action":"show_text","value":{"translate":"自動的にゲームが終了し、\n逃走者が勝利するまでの時間です。"}}},{"text":": "},{"text":"⏪","color":"dark_red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 11"}},{"text":" "},{"text":"⏴","color":"red","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒短縮"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 12"}},{"text":" "},{"score":{"name":"settings_min","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":":","color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"score":{"name":"settings_sec","objective":"foGameData"},"color":"yellow","hoverEvent":{"action":"show_text","value":{"translate":"現在の設定"}}},{"text":" "},{"text":"⏵","color":"green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで10秒延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 13"}},{"text":" "},{"text":"⏩","color":"dark_green","hoverEvent":{"action":"show_text","value":{"translate":"クリックで1分延長"}},"clickEvent":{"action":"run_command","value":"/trigger foSettingsTrigger set 14"}}]
